<!doctype html>
<html lang="ar">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>واجهة متفوقة — Younis Studio</title>
  <style>
    /* ============================
       متغيرات وتهيئة أساسيات
       ============================ */
    :root{
      --bg: #071028;
      --card: rgba(255,255,255,0.04);
      --glass: rgba(255,255,255,0.03);
      --text: #eaf6ff;
      --muted: rgba(234,246,255,0.72);
      --accent-1: #7ef0ff;
      --accent-2: #b890ff;
      --accent-3: #ffd27a;
      --radius: 14px;
      --transition: 380ms cubic-bezier(.2,.9,.2,1);
    }
    :root.light{
      --bg: #f7fbff;
      --card: rgba(8,12,20,0.03);
      --glass: rgba(10,14,22,0.03);
      --text: #071028;
      --muted: rgba(7,16,40,0.66);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family: Inter, "Segoe UI", system-ui, "Noto Naskh Arabic", sans-serif;
      background: radial-gradient(1000px 500px at 10% 10%, rgba(126,240,255,0.04), transparent 8%),
                  radial-gradient(900px 400px at 90% 90%, rgba(255,210,122,0.03), transparent 8%),
                  var(--bg);
      color:var(--text);
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
      padding:28px; overflow-y:auto;
    }

    /* container */
    .container{ max-width:1120px; margin:0 auto; position:relative; z-index:20; }

    /* ============================
       خلفية: blobs + canvas
       ============================ */
    .bg-blobs{ position:fixed; inset:0; z-index:0; pointer-events:none; mix-blend-mode:screen; overflow:hidden; }
    .blob {
      position:absolute; border-radius:50%; transform:translate3d(0,0,0);
      filter: blur(90px); opacity:.56;
      transition: transform var(--transition);
      will-change: transform;
    }
    .blob.b2{ opacity:.44; filter: blur(110px); }
    .blob.b3{ opacity:.28; filter: blur(120px); }

    canvas.bg-canvas{ position:fixed; inset:0; z-index:1; pointer-events:none; display:block; }

    @media (prefers-reduced-motion: reduce){
      .blob{ animation:none !important; transition:none !important; }
      canvas.bg-canvas{ display:block; } /* canvas will check prefers-reduced-motion in script */
    }

    /* ============================
       شريط التنقل
       ============================ */
    nav{ display:flex; align-items:center; justify-content:space-between; gap:16px; margin-bottom:28px; }
    .brand{ display:flex; align-items:center; gap:12px; font-weight:700; }
    .logo{
      width:48px; height:48px; border-radius:12px;
      background:linear-gradient(135deg,var(--accent-2),var(--accent-1));
      box-shadow: 0 6px 20px rgba(12,14,23,0.55), inset 0 -6px 18px rgba(255,255,255,0.06);
      display:flex; align-items:center; justify-content:center; color:#021; font-weight:800;
    }
    .nav-links{ display:flex; gap:12px; align-items:center; }
    .nav-links a{ color:var(--muted); text-decoration:none; padding:8px 12px; border-radius:10px; transition: var(--transition); }
    .nav-links a:hover{ color:var(--text); background: rgba(255,255,255,0.02); }

    /* ============================
       البطل (Hero) والبطاقات
       ============================ */
    .hero{ display:grid; grid-template-columns: 1fr 420px; gap:28px; align-items:center; margin-bottom:40px; z-index:10; }
    .card{
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius: calc(var(--radius) + 6px); padding:28px;
      box-shadow: 0 10px 30px rgba(2,6,23,0.6); backdrop-filter: blur(8px);
      border: 1px solid rgba(255,255,255,0.03); transition: transform 400ms cubic-bezier(.2,.9,.2,1), box-shadow 400ms;
    }
    .card:hover{ transform: translateY(-8px); box-shadow: 0 24px 60px rgba(2,6,23,0.7); }
    h1{ margin:0 0 6px 0; font-size:28px; line-height:1.05; }
    p.lead{ color:var(--muted); margin:0 0 18px 0; font-size:15px; }

    .cta-row{ display:flex; gap:12px; margin-top:10px; }
    .btn{
      display:inline-flex; align-items:center; gap:10px; padding:10px 16px; border-radius:12px; cursor:pointer; text-decoration:none;
      transition: var(--transition); border:none; font-weight:600;
    }
    .btn.primary{ background: linear-gradient(90deg, var(--accent-1), var(--accent-2)); color:#021; box-shadow: 0 8px 30px rgba(138,233,253,0.12); }
    .btn.ghost{ background:transparent; color:var(--text); border:1px solid rgba(255,255,255,0.06); }

    .stat{ display:flex; justify-content:space-between; align-items:center; padding:16px; border-radius:12px; background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border:1px solid rgba(255,255,255,0.03); }
    .stat .num{ font-weight:800; font-size:18px; color:var(--text); }
    .stat .lbl{ color:var(--muted); font-size:13px; }

    .grid{ display:grid; grid-template-columns: repeat(auto-fit,minmax(220px,1fr)); gap:18px; margin-top:8px; }

    footer{ margin-top:48px; color:var(--muted); font-size:13px; display:flex; justify-content:space-between; gap:12px; align-items:center; }

    /* responsive */
    @media (max-width:920px){ .hero{ grid-template-columns: 1fr; } .stat{ flex:1 } .nav-links{ display:none } }
    @media (max-width:520px){ body{ padding:18px } .logo{ width:40px; height:40px } }

    /* لوحة التخصيص */
    .customizer { display:flex; flex-direction:column; gap:10px; }
    .field{ display:flex; align-items:center; justify-content:space-between; gap:10px; }
    input[type="color"]{ width:44px; height:36px; border-radius:8px; border:1px solid rgba(0,0,0,0.06); padding:0; cursor:pointer; }
    .theme-toggle{ padding:8px 12px; border-radius:10px; cursor:pointer; background:rgba(255,255,255,0.03); border:1px solid rgba(255,255,255,0.04); }

    /* small helper */
    .muted { color: var(--muted); font-size:13px; }
  </style>
</head>
<body>
  <!-- الخلفية -->
  <div class="bg-blobs" aria-hidden="true">
    <div class="blob b1" id="blob1" style="top:-12%; left:-18%; width:42vmax; height:42vmax; background: linear-gradient(120deg, var(--accent-1), var(--accent-2));"></div>
    <div class="blob b2" id="blob2" style="top:50%; left:60%; width:36vmax; height:36vmax; background: linear-gradient(140deg, var(--accent-3), #ff8bd6);"></div>
    <div class="blob b3" id="blob3" style="top:65%; left:15%; width:30vmax; height:30vmax; background: linear-gradient(90deg, #9ef, #b9f7d6);"></div>
    <canvas class="bg-canvas" id="bgCanvas" aria-hidden="true"></canvas>
  </div>

  <div class="container" role="main">
    <nav aria-label="الرئيسي">
      <div class="brand">
        <div class="logo" aria-hidden="true">Y</div>
        <div>
          <div style="font-size:15px">Younis Studio</div>
          <div style="font-size:12px;color:var(--muted)">واجهة متطورة</div>
        </div>
      </div>

      <div class="nav-links" role="navigation" aria-label="روابط">
        <a href="#features">الميزات</a>
        <a href="#services">الخدمات</a>
        <a class="btn ghost" id="getStarted" href="#get">احصل الآن</a>
      </div>
    </nav>

    <main>
      <section class="hero" aria-labelledby="hero-title">
        <div class="card" role="region" aria-labelledby="hero-title">
          <h1 id="hero-title">واجهة متفوقة — أداء، مرونة، وجمال</h1>
          <p class="lead">خلفية canvas متحركة، blobs ضبابية للعمق، لوحة تخصيص ألوان تحفظ الإعدادات، ودعم ثيم داكن/فاتح — كل هذا في ملف واحد جاهز للتركيب.</p>

          <div class="cta-row">
            <a class="btn primary" href="#get">ابدأ الآن</a>
            <button class="btn ghost" id="openCustomizer">تخصيص الألوان</button>
          </div>

          <div style="display:flex; gap:10px; margin-top:18px; align-items:center;">
            <div style="flex:1">
              <div style="height:10px; background:linear-gradient(90deg,var(--accent-1),var(--accent-2)); border-radius:999px;"></div>
              <div style="height:6px; background:rgba(255,255,255,0.03); border-radius:999px; margin-top:8px;"></div>
            </div>
            <div style="min-width:120px; text-align:right; font-size:13px; color:var(--muted)">تجربة متوافقة مع كل الشاشات</div>
          </div>
        </div>

        <aside style="display:flex; flex-direction:column; gap:14px;">
          <div class="stat card">
            <div>
              <div class="num">1.2K+</div>
              <div class="lbl muted">زائر يومي</div>
            </div>
            <div aria-hidden="true" style="width:12px;height:12px;border-radius:50%;background:linear-gradient(90deg,var(--accent-1),var(--accent-2));"></div>
          </div>

          <div class="stat card">
            <div>
              <div class="num">98%</div>
              <div class="lbl muted">رضا المستخدمين</div>
            </div>
            <div aria-hidden="true" style="width:12px;height:12px;border-radius:50%;background:linear-gradient(90deg,var(--accent-3),#ff8bd6);"></div>
          </div>
        </aside>
      </section>

      <section id="features">
        <h2 style="margin:0 0 12px 0">الميزات</h2>
        <div class="grid">
          <div class="card">
            <h3>ألوان مريحة</h3>
            <p class="muted">تدرجات لونية مريحة للعين وتعمل على شاشات مختلفة.</p>
          </div>
          <div class="card">
            <h3>حركات ناعمة</h3>
            <p class="muted">حركة محسوبة تعطي إحساسًا بالحيوية بدون إجهاد.</p>
          </div>
          <div class="card">
            <h3>تخصيص مباشر</h3>
            <p class="muted">لوحة تعديل ألوان تحفظ التفضيل على جهاز الزائر.</p>
          </div>
          <div class="card">
            <h3>جاهز للتطوير</h3>
            <p class="muted">يمكن تحويله بسهولة لمشروع React / Three.js لاحقًا.</p>
          </div>
        </div>
      </section>

      <section id="services" style="margin-top:20px">
        <h2 style="margin:14px 0 12px 0">الخدمات</h2>
        <div class="grid">
          <div class="card"><h3>تخصيص الألوان</h3><p class="muted">أرسل الألوان وسأدمجها فورًا.</p></div>
          <div class="card"><h3>تحويل للقوالب</h3><p class="muted">تحويل إلى React + Tailwind أو Vue.</p></div>
          <div class="card"><h3>تحسين الأداء</h3><p class="muted">تقليل استهلاك الذاكرة ورفع سرعة التحميل.</p></div>
          <div class="card"><h3>تصميم موبايل</h3><p class="muted">تكيف كامل مع الشاشات الصغيرة.</p></div>
        </div>
      </section>

      <footer id="contact">
        <div>© <span id="year"></span> Younis Studio</div>
        <div>تواصل: <span style="color:var(--accent-1)">hello@younis.example</span></div>
      </footer>
    </main>
  </div>

  <!-- لوحة التخصيص المنبثقة -->
  <div id="customModal" role="dialog" aria-modal="true" aria-hidden="true" style="
       position:fixed; right:20px; bottom:20px; z-index:60; width:320px; max-width:calc(100% - 40px);
       transform: translateY(20px) scale(.98); opacity:0; transition: var(--transition); pointer-events:none;">
    <div class="card" style="padding:16px;">
      <div style="display:flex; justify-content:space-between; align-items:center; gap:10px;">
        <strong>تخصيص الألوان</strong>
        <div style="display:flex; gap:8px; align-items:center;">
          <button id="toggleTheme" class="theme-toggle" title="تبديل ثيم">ثيم</button>
          <button id="closeCustomizer" class="theme-toggle" title="اغلاق">إغلاق</button>
        </div>
      </div>

      <div style="margin-top:12px" class="customizer">
        <label class="field"><span>اللون 1</span> <input id="c1" type="color" value="#7ef0ff" /></label>
        <label class="field"><span>اللون 2</span> <input id="c2" type="color" value="#b890ff" /></label>
        <label class="field"><span>اللون 3</span> <input id="c3" type="color" value="#ffd27a" /></label>

        <div style="display:flex; gap:8px; align-items:center; margin-top:6px;">
          <div id="previewGradient" style="flex:1; height:40px; border-radius:8px; border:1px solid rgba(0,0,0,0.06)"></div>
          <button id="resetColors" class="theme-toggle" title="اعادة الافتراضيات">إفتراض</button>
        </div>

        <div style="margin-top:10px" class="muted">التغييرات تحفظ تلقائيًا على جهازك.</div>
      </div>
    </div>
  </div>

  <script>
    /* ============================
       إعداد سنة الفوتر
       ============================ */
    document.getElementById('year').textContent = new Date().getFullYear();

    /* ============================
       إعدادات التخزين والتفضيلات
       ============================ */
    const LS_THEME = 'ys:theme';
    const LS_COLORS = 'ys:colors';
    const defaultColors = { accent1: '#7ef0ff', accent2: '#b890ff', accent3: '#ffd27a' };

    // تحميل من localStorage
    function loadTheme() {
      const t = localStorage.getItem(LS_THEME);
      if (t === 'light') document.documentElement.classList.add('light');
      else document.documentElement.classList.remove('light');
    }
    function loadColors() {
      try {
        const raw = localStorage.getItem(LS_COLORS);
        const c = raw ? JSON.parse(raw) : defaultColors;
        setColorsToCSS(c);
        // update inputs if exist
        ['c1','c2','c3'].forEach((id, i) => {
          const el = document.getElementById(id);
          if (el) el.value = Object.values(c)[i];
        });
        updatePreview();
      } catch(e) {
        setColorsToCSS(defaultColors);
      }
    }
    function setColorsToCSS(c){ 
      document.documentElement.style.setProperty('--accent-1', c.accent1);
      document.documentElement.style.setProperty('--accent-2', c.accent2);
      document.documentElement.style.setProperty('--accent-3', c.accent3);
      // update blob backgrounds
      document.getElementById('blob1').style.background = `linear-gradient(120deg, ${c.accent1}, ${c.accent2})`;
      document.getElementById('blob2').style.background = `linear-gradient(140deg, ${c.accent3}, #ff8bd6)`;
    }
    function saveColors(c){ localStorage.setItem(LS_COLORS, JSON.stringify(c)); }

    loadTheme();
    loadColors();

    /* ============================
       فتح واغلاق مودال التخصيص
       ============================ */
    const modal = document.getElementById('customModal');
    const openBtn = document.getElementById('openCustomizer');
    const closeBtn = document.getElementById('closeCustomizer');
    const toggleThemeBtn = document.getElementById('toggleTheme');
    const resetBtn = document.getElementById('resetColors');

    function showModal(){
      modal.style.transform = 'translateY(0) scale(1)';
      modal.style.opacity = '1';
      modal.style.pointerEvents = 'auto';
      modal.setAttribute('aria-hidden','false');
    }
    function hideModal(){
      modal.style.transform = 'translateY(20px) scale(.98)';
      modal.style.opacity = '0';
      modal.style.pointerEvents = 'none';
      modal.setAttribute('aria-hidden','true');
    }

    openBtn.addEventListener('click', (e)=>{ e.preventDefault(); showModal(); });
    closeBtn.addEventListener('click', hideModal);

    // تبديل الثيم
    toggleThemeBtn.addEventListener('click', ()=>{
      const isLight = document.documentElement.classList.toggle('light');
      localStorage.setItem(LS_THEME, isLight ? 'light' : 'dark');
    });

    // ألوان inputs
    const c1 = document.getElementById('c1');
    const c2 = document.getElementById('c2');
    const c3 = document.getElementById('c3');
    function updatePreview(){
      const p = document.getElementById('previewGradient');
      if (!p) return;
      p.style.background = `linear-gradient(90deg, ${c1.value}, ${c2.value})`;
    }
    [c1,c2,c3].forEach((el) => {
      el.addEventListener('input', ()=>{
        const newColors = { accent1: c1.value, accent2: c2.value, accent3: c3.value };
        setColorsToCSS(newColors);
        saveColors(newColors);
        updatePreview();
      });
    });

    resetBtn.addEventListener('click', ()=>{
      c1.value = defaultColors.accent1;
      c2.value = defaultColors.accent2;
      c3.value = defaultColors.accent3;
      const nc = { accent1: c1.value, accent2: c2.value, accent3: c3.value };
      setColorsToCSS(nc); saveColors(nc); updatePreview();
    });

    /* ============================
       Canvas particles — أداء محسن
       ============================ */
    (function(){
      const canvas = document.getElementById('bgCanvas');
      if (!canvas) return;
      const ctx = canvas.getContext('2d');
      if (!ctx) return;
      const prefersReduced = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      if (prefersReduced) {
        canvas.style.display = 'none';
        return;
      }
      let dpr = Math.max(1, window.devicePixelRatio || 1);
      let width = 0, height = 0, particles = [], raf = null, last = 0;

      const clamp = (v,a=0,b=1) => Math.max(a, Math.min(b, v));
      const createParticle = (w,h) => {
        const angle = Math.random() * Math.PI * 2;
        const speed = 0.1 + Math.random() * 0.7;
        const size = 0.6 + Math.random() * 3.6;
        return { x: Math.random()*w, y: Math.random()*h, vx: Math.cos(angle)*speed, vy: Math.sin(angle)*speed*0.6, size };
      };

      function resize(){
        const rect = { width: window.innerWidth, height: window.innerHeight };
        width = Math.floor(rect.width);
        height = Math.floor(rect.height);
        canvas.width = Math.floor(width * dpr);
        canvas.height = Math.floor(height * dpr);
        canvas.style.width = width + 'px';
        canvas.style.height = height + 'px';
        ctx.setTransform(dpr,0,0,dpr,0,0);
        const count = Math.max(12, Math.floor((width*height)/120000)); // density control
        particles = new Array(count).fill(0).map(()=> createParticle(width, height));
      }

      function hexToRgba(hex, a=1){
        const h = hex.replace('#','');
        const full = h.length === 3 ? h.split('').map(c=>c+c).join('') : h;
        const num = parseInt(full,16);
        const r = (num>>16)&255, g = (num>>8)&255, b = num&255;
        return `rgba(${r},${g},${b},${a})`;
      }

      function step(t){
        if (!last) last = t;
        const dt = clamp((t - last) / 16.666, 0, 3);
        last = t;
        ctx.clearRect(0,0,width,height);

        // soft gradient overlay
        const style = getComputedStyle(document.documentElement);
        const a1 = style.getPropertyValue('--accent-1').trim() || '#7ef0ff';
        const a2 = style.getPropertyValue('--accent-2').trim() || '#b890ff';
        const a3 = style.getPropertyValue('--accent-3').trim() || '#ffd27a';
        const g = ctx.createLinearGradient(0,0,width,height);
        g.addColorStop(0, hexToRgba(a1, 0.06));
        g.addColorStop(0.6, hexToRgba(a2, 0.04));
        g.addColorStop(1, hexToRgba(a3, 0.03));
        ctx.fillStyle = g;
        ctx.fillRect(0,0,width,height);

        // particles
        ctx.globalCompositeOperation = 'lighter';
        particles.forEach(p=>{
          p.x += p.vx * dt;
          p.y += p.vy * dt;
          if (p.x < -30) p.x = width + 30;
          if (p.x > width + 30) p.x = -30;
          if (p.y < -30) p.y = height + 30;
          if (p.y > height + 30) p.y = -30;

          const rad = ctx.createRadialGradient(p.x,p.y,0,p.x,p.y,p.size*10);
          rad.addColorStop(0, hexToRgba(a1, 0.9));
          rad.addColorStop(0.4, hexToRgba(a2, 0.25));
          rad.addColorStop(1, hexToRgba(a3, 0));
          ctx.fillStyle = rad;
          ctx.beginPath();
          ctx.arc(p.x, p.y, p.size*4, 0, Math.PI*2);
          ctx.fill();
        });
        ctx.globalCompositeOperation = 'source-over';

        raf = requestAnimationFrame(step);
      }

      // init
      resize();
      raf = requestAnimationFrame(step);
      window.addEventListener('resize', ()=>{ dpr = Math.max(1, window.devicePixelRatio || 1); resize(); });

      // cleanup on page unload
      window.addEventListener('unload', ()=>{ if (raf) cancelAnimationFrame(raf); });

    })();

    /* ============================
       حركة ناعمة للـ blobs (بسيطة وآمنة)
       ============================ */
    (function(){
      const b1 = document.getElementById('blob1');
      const b2 = document.getElementById('blob2');
      const b3 = document.getElementById('blob3');
      if(!b1||!b2||!b3) return;
      const prefersReduced = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      if(prefersReduced) return;

      // subtle up/down animation using requestAnimationFrame — performant
      let t0 = performance.now();
      function animate(t){
        const s = Math.sin((t - t0) / 5000) * 6; // amplitude
        const r = Math.cos((t - t0) / 7000) * 8; // rotation angle
        b1.style.transform = `translateY(${s}px) rotate(${r}deg)`;
        b2.style.transform = `translateY(${s/1.2}px) rotate(${r/1.3}deg)`;
        b3.style.transform = `translateY(${s/1.6}px) rotate(${r/1.8}deg)`;
        requestAnimationFrame(animate);
      }
      requestAnimationFrame(animate);
    })();

    /* ============================
       Accessibility small fixes
       ============================ */
    // close modal on Esc
    document.addEventListener('keydown', (e)=>{
      if(e.key === 'Escape') {
        const m = document.getElementById('customModal');
        if (m && m.getAttribute('aria-hidden') === 'false') m.querySelector('#closeCustomizer').click();
      }
    });

    /* ============================
       تحسين: منع double click selection for buttons
       ============================ */
    document.querySelectorAll('button, a').forEach(el => {
      el.addEventListener('mousedown', (ev) => ev.preventDefault(), {passive:false});
      el.addEventListener('mouseup', (ev) => ev.preventDefault(), {passive:false});
    });

    /* ============================
       أخطاء شائعة: تحميل القيم الافتراضية إذا لم تكن inputs جاهزة
       ============================ */
    // تأكد أن preview محدث بعد تحميل DOM (لو inputs لم تكن جاهزة سابقاً)
    window.addEventListener('load', ()=> {
      const preview = document.getElementById('previewGradient');
      if(preview && document.getElementById('c1')) {
        const ci = document.getElementById('c1'), cii = document.getElementById('c2');
        preview.style.background = `linear-gradient(90deg, ${ci.value}, ${cii.value})`;
      }
    });

    /* ============================
       نهاية الكود
       ============================ */
  </script>
</body>
</html>
